<style>
  /* adjusts height of three boxes at the top */
  .card-deck .card-body {
    padding: 0.6rem;
    vertical-align: middle;
  }
</style>

{% extends "global/Page.html" %}
{% load otree static %}

{% block head_title %}
Experiment Orbit
{% endblock %}

{% block title %}
   
{% endblock %}


{% block content %}


<div class="container">

  <div class="container">
    <div class="row">

      <div class="col-sm">
        <h3>Projekt Smart {{ player.initial_decision }}</h3>
        <h4>Update 30.06.2021</h4>
      </div>

      <div class="col-sm">
        <img src="{% static "orbit/kw.png" %}" style="float:right">
      </div>

    </div>
  </div>

    <hr>
  
    <div class="card-deck" style="text-align: center;">

        <div class="card">
          <div class="card-header">
            Datum Projektstart
          </div>
          <div class="card-body" style="text-align: center;">
            <p class="card-text">30 Juni 2020</p>
          </div>
        </div>

        <div class="card">
          <div class="card-header">
            Projektverantwortlicher
          </div>
          <div class="card-body">
            <p class="card-text">Leitender Manager <br>Abteilung „Projekte“</p>
          </div>
        </div>

        <div class="card">
          <div class="card-header">
            Guthaben Projektkonto
          </div>
          <div class="card-body">
            <p class="card-text" style="text-underline-offset: 6px; font-weight: 510">
              <span style="text-decoration: underline; text-decoration-color: #d3d3d3;">Projektstart (2020): 7,5 Mio. Lira</span> <br>
              Aktuell (2021): 3,5 Mio. Lira
            </p>
          </div>
        </div>

    </div>
  <hr>

  <div class="row">
    <div class="col-md-3">
      <ul class="nav nav-pills flex-column" id="myTab" role="tablist">
        <li class="nav-item">
          <a class="nav-link" aria-selected="false"><b>Smart {{ player.initial_decision }}</b></a>
        </li>
        <li class="nav-item">
          <a class="nav-link active" id="Zwischenbericht-tab" data-toggle="tab" href="#Zwischenbericht" role="tab" aria-controls="Zwischenbericht" aria-selected="true">Zwischenbericht</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" id="softfacts-tab" data-toggle="tab" href="#softfacts" role="tab" aria-controls="softfacts" aria-selected="false" onclick="softfacts()">Aktualisierte Infos</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" id="Szenarioanalyse-tab" data-toggle="tab" href="#Szenarioanalyse" role="tab" aria-controls="Szenarioanalyse" aria-selected="false" onclick="Szenarioanalyse()">Szenarioanalyse</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" id="Alternative-tab" data-toggle="tab" href="#Alternative" role="tab" aria-controls="Alternative" aria-selected="false" onclick="Alternative()">Alternatives Investment</a>
        </li>
      </ul>
  </div>

  <div class="col-md-9">
      <div class="tab-content" id="myTabContent">

        <div class="tab-pane fade show active" id="Zwischenbericht" role="tabpanel" aria-labelledby="Zwischenbericht-tab">
          <div class="card">
            <h5 class="card-header">Zwischenbericht</h5>
            <div class="card-body">
              <p>Der Entwicklungsprozess Ihres Projekts Smart {{ player.initial_decision }} lief bisher weitestgehend reibungslos. Die Anfangsinvestition in Höhe von 4 Mio. Lira (inklusive der 1 Mio. Lira für die interne Softwareentwicklung) wurde bereits ausgegeben.</p><hr>
              <p>Jedoch hat sich herausgestellt, dass die Expertise im Bereich künstliche Intelligenz nicht ausreichend ist, um die Software unternehmensintern zu programmieren. Um das Projekt abzuschließen müsste deswegen für 3,5 Mio. Lira eine zusätzliche Software eingekauft werden („<i>Zusatzinvestition</i>“).</p><hr>
              <p>Außerdem hat die Marketingabteilung festgestellt, dass ein wichtiger Wettbewerber ebenfalls einen Smart {{ player.initial_decision }}maker entwickelt, der sich aktuell in der Testphase - also kurz vor Markteinführung - befindet, was mit hoher Wahrscheinlichkeit negative Konsequenzen auf Ihren Marktanteil haben wird.</p>
            </div>
        </div>
      </div>

      <div class="tab-pane fade" id="softfacts" role="tabpanel" aria-labelledby="softfacts-tab">
        <div class="card">
          <h5 class="card-header">Aktualisierte Projekt-Informationen</h5>
          <div class="card-body">
              {% if player.initial_decision == "Coffee" %}

              <p>Eine neue Marktumfrage zeigt, dass nun noch mehr Kaffeekonsumenten als zuvor Interesse an einem Smart Coffeemaker haben.</p><hr>
              <p>Zurzeit besteht große Unsicherheit, ob die Kooperation mit dem primären Vertriebspartner von Kitchen World für den Verkauf von Smart Coffee genutzt werden kann.</p><hr>
              <p>Bisherige Produkte des Wettbewerbers hatten generell eine niedrigere Qualität als Produkte von Kitchen World.</p>

              {% else %}
              <p>Eine neue Marktumfrage zeigt, dass nun noch mehr Teekonsumenten als zuvor Interesse an einem Smart Teamaker haben.</p><hr>
              <p>Zurzeit besteht große Unsicherheit, ob die Kooperation mit dem primären Vertriebspartner von Kitchen World für den Verkauf von Smart Tea genutzt werden kann.</p><hr>
              <p>Bisherige Produkte des Wettbewerbers hatten generell eine niedrigere Qualität als Produkte von Kitchen World.</p>

              {% endif %}
          </div>
        </div>
      </div>

        <div class="tab-pane fade" id="Szenarioanalyse" role="tabpanel" aria-labelledby="Szenarioanalyse-tab">
          <div class="card">
            <h5 class="card-header">Szenarioanalyse Smart {{ player.initial_decision }}</h5>
            <div class="card-body">
              <p>Aufgrund der geänderten Umstände liegt die Eintrittswahrscheinlichkeit eines Best-Case Szenarios bei 33% und eines Worst-Case Szenarios bei 67%.</p>
              <p>Unter Berücksichtigung aller relevanten Infos wurden folgende Werte für die beiden Szenarien berechnet:</p>

              <table class="table table-striped">
                <thead style="text-align: center;">
                  <tr>
                    <th scope="col"></th>
                    <th scope="col"style="text-align: center; width:45%">Smart {{ player.initial_decision }}</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <th scope="row">Getätigte Anfangsinvestition</th>
                    <td style="text-align: center;">4 Mio. Lira</td> 
                  </tr>
                </tbody>
              </table>

              <table class="table table-striped">
                <thead style="text-align: center;">
                  <tr>
                    <th scope="col"></th>
                    <th scope="col">Best-Case Szenario</th>
                    <th scope="col">Worst-Case Szenario</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <th scope="row">Eintrittswahrscheinlichkeit</th>
                    <td style="text-align: center;">33%</td>
                    <td style="text-align: center;">67%</td>
                  </tr>
                  <tr>
                    <th scope="row">Benötigte Zusatzinvestition</th>
                    <td style="text-align: center;">3,5 Mio. Lira</td>
                    <td style="text-align: center;">3,5 Mio. Lira</td>
                  </tr>
                  <tr>
                    <th scope="row">Erwartete diskontierte Einzahlungsüberschüsse</th>
                    <td style="text-align: center; vertical-align:middle">9,5 Mio. Lira</td>
                    <td style="text-align: center; vertical-align:middle">4,5 Mio. Lira</td>
                  </tr>
                  <tr height = 20px></tr>
                  <tr>
                    <th scope="row">Erwartete Differenz zum<br>ursprünglichen Projektguthaben<br>vor Projektstart (7,5 Mio. Lira)</th>
                    <td style="text-align: center;font-weight: 600; vertical-align:middle">+2,0 Mio. Lira</td>
                    <td style="text-align: center;font-weight: 600; vertical-align:middle">-3,0 Mio. Lira</td>
                  </tr>
                </tbody>
              </table>

            </div>
          </div>
        </div>
        
        <div class="tab-pane fade fade" id="Alternative" role="tabpanel" aria-labelledby="Alternative-tab">
          <div class="card">
            <h5 class="card-header">Alternatives Investment</h5>
              <div class="card-body">
              <p>Obwohl Sie bereits 4 Mio. Lira in Ihr Projekt Smart {{ player.initial_decision }} investiert haben, besteht die Möglichkeit das Projekt Smart {{ player.initial_decision }} abzubrechen.</p>
              <p>Falls Sie Ihr Projekt abbrechen, könnten die verbleibenden 3,5 Mio. Lira des Projektkontos - welche bei Projektfortsetzung für die externe Softwareprogrammierung gezahlt werden müssen - in ein alternatives Projekt investiert werden.</p>
              <table class="table table-striped">
                <thead style="text-align: center;">
                  <tr>
                    <th scope="col"></th>
                    <th scope="col">Alternatives Investment</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <th scope="row" style="width: 60%;">Benötigte Anfangsinvestition</th>
                    <td style="text-align: center;">3,5 Mio. Lira</td>
                  </tr>
                  <tr>
                    <th scope="row">Erwartete diskontierte Einzahlungsüberschüsse aus den Rückflüssen der Investition</th>
                    <td style="text-align: center;">7,0 Mio. Lira</td>
                  </tr>
                </tbody>
              </table>
              <br>
              <table class="table table-striped">
                <tr>
                  <td style="font-weight: bold; width: 60%">Erwartete Differenz zum<br>ursprünglichen Projektguthaben<br>vor Projektstart (7,5 Mio. Lira)</td>
                  <td style="text-align: center;font-weight: 600; vertical-align:middle">-0,5 Mio. Lira</td>
                </tr>
              </table>
            </div>
          </div>
          <br>
          <p>Falls Sie sich die aktualisierten Projektinformationen sorgfältig durchgelesen haben, dann klicken Sie bitte auf <i>„Weiter“</i>.</p>
          <div style="text-align:right">
            <button id="nextbutton" class="btn btn-primary" data-toggle="tooltip" title="Bitte lesen Sie sich alle Informationen gründlich durch">Weiter</button>
          </div>
        </div>

    </div>
  </div>

  </div>
</div>

<!-- footerbar with instructions and calculator modals -->
{% include "global/FooterContentWithInitial.html" %}

<!-- hidden field to store time spent on page in seconds -->
<input type="hidden" name="timer_subinfo" id="timer_subinfo" value=0>

<script>
  let timer = [] // first value equals time spent on zwischenbericht
  let softfactsread, Szenarioanalyseread, Alternativeread = 0 // will be set to one if respective tab has been opened

  function softfacts() {
    timer.push("Softfacts tab clicked at " + sec);
    softfactsread = 1;
  }
  
  function Szenarioanalyse() {
    timer.push("szenarioanalyse tab clicked at " + sec);
    Alternativeread = 1;
  }

  function Alternative() {
    timer.push("alternative tab clicked at " + sec);
    Szenarioanalyseread = 1;
  }

  var sec = 0; // global variable

  // increasing timer
  function pad ( val ) { return val > 9 ? val : "0" + val; }
  setInterval( function(){
      $("#seconds").html(pad(++sec));
      if (softfactsread == 1 && Alternativeread == 1 && Szenarioanalyseread == 1) { 
        // $('#nextbutton').removeAttr("type"); // removes type attribute from next button so form can be submitted <button type="button">
        $('#nextbutton').removeAttr('data-original-title'); // removes tooltip
      }
  }, 1000);


  $('#nextbutton').click(function() {
    if ($('#nextbutton').attr("type") !== "button") { // function is executed if next can be clicked
      timer.push("total " + sec); // push total secs to array
      $("#timer_subinfo").val(timer); // store array in hidden field
    }
  });

  $(document).ready(function(){
    $('[data-toggle="tooltip"]').tooltip();   
  });

</script>



{% endblock %}



